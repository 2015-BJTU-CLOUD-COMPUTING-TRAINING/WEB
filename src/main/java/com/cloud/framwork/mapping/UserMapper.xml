<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cloud.framwork.dao.UserMapper" >
  <resultMap id="BaseResultMap" type="com.cloud.app.model.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="USER_ID" property="userId" jdbcType="INTEGER" />
    <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
    <result column="PASSWORD" property="password" jdbcType="VARCHAR" />
    <result column="BJTU_EMAIL" property="bjtuEmail" jdbcType="VARCHAR" />
    <result column="BJTU_NUMBER" property="bjtuNumber" jdbcType="VARCHAR" />
    <result column="PHONE" property="phone" jdbcType="VARCHAR" />
    <result column="TOTAL_VOLUME" property="totalVolume" jdbcType="BIGINT" />
    <result column="EXISTED_VOLUME" property="existedVolume" jdbcType="BIGINT" />
    <result column="USER_TYPE" property="userType" jdbcType="INTEGER" />
    <result column="USER_STATE" property="userState" jdbcType="INTEGER" />
    <result column="USER_TIME_BUILD" property="userTimeBuild" jdbcType="TIMESTAMP" />
    <result column="COMMENT" property="comment" jdbcType="VARCHAR" />
    <result column="BIRTHDAY" property="birthday" jdbcType="DATE" />
  </resultMap>
  <!-- ****************************************************************************************************** -->
	<!-- ****************************************************************************************************** -->
   <insert id="myinsert" parameterType="com.cloud.app.model.User" >
  
    <selectKey resultType="java.lang.Integer" keyProperty="userId" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into USER_TABLE (USER_NAME, PASSWORD, BJTU_EMAIL, 
      BJTU_NUMBER, PHONE,
       COMMENT,BIRTHDAY)
    values (#{userName,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, #{bjtuEmail,jdbcType=VARCHAR}, 
      #{bjtuNumber,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR},  #{comment,jdbcType=VARCHAR}, #{birthday,jdbcType=DATE})
  </insert>
  <select id="selectByNameAndPassword" resultMap="BaseResultMap" parameterType="com.cloud.app.model.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select USER_ID, USER_NAME, PASSWORD, BJTU_EMAIL, BJTU_NUMBER, PHONE, TOTAL_VOLUME, 
    EXISTED_VOLUME, USER_TYPE, USER_STATE, USER_TIME_BUILD, COMMENT, BIRTHDAY
    from USER_TABLE
    where USER_NAME = #{userName,jdbcType=VARCHAR} and
      PASSWORD = #{password,jdbcType=VARCHAR}
  </select>
  
  
  
  <!-- ****************************************************************************************************** -->
  <!-- ****************************************************************************************************** -->
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from USER_TABLE
    where USER_ID = #{userId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.cloud.app.model.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey resultType="java.lang.Integer" keyProperty="userId" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into USER_TABLE (USER_NAME, PASSWORD, BJTU_EMAIL, 
      BJTU_NUMBER, PHONE, TOTAL_VOLUME, 
      EXISTED_VOLUME, USER_TYPE, USER_STATE, 
      USER_TIME_BUILD, COMMENT, BIRTHDAY
      )
    values (#{userName,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, #{bjtuEmail,jdbcType=VARCHAR}, 
      #{bjtuNumber,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR}, #{totalVolume,jdbcType=BIGINT}, 
      #{existedVolume,jdbcType=BIGINT}, #{userType,jdbcType=INTEGER}, #{userState,jdbcType=INTEGER}, 
      #{userTimeBuild,jdbcType=TIMESTAMP}, #{comment,jdbcType=VARCHAR}, #{birthday,jdbcType=DATE}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.cloud.app.model.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update USER_TABLE
    set USER_NAME = #{userName,jdbcType=VARCHAR},
      PASSWORD = #{password,jdbcType=VARCHAR},
      BJTU_EMAIL = #{bjtuEmail,jdbcType=VARCHAR},
      BJTU_NUMBER = #{bjtuNumber,jdbcType=VARCHAR},
      PHONE = #{phone,jdbcType=VARCHAR},
      TOTAL_VOLUME = #{totalVolume,jdbcType=BIGINT},
      EXISTED_VOLUME = #{existedVolume,jdbcType=BIGINT},
      USER_TYPE = #{userType,jdbcType=INTEGER},
      USER_STATE = #{userState,jdbcType=INTEGER},
      USER_TIME_BUILD = #{userTimeBuild,jdbcType=TIMESTAMP},
      COMMENT = #{comment,jdbcType=VARCHAR},
      BIRTHDAY = #{birthday,jdbcType=DATE}
    where USER_ID = #{userId,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select USER_ID, USER_NAME, PASSWORD, BJTU_EMAIL, BJTU_NUMBER, PHONE, TOTAL_VOLUME, 
    EXISTED_VOLUME, USER_TYPE, USER_STATE, USER_TIME_BUILD, COMMENT, BIRTHDAY
    from USER_TABLE
    where USER_ID = #{userId,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select USER_ID, USER_NAME, PASSWORD, BJTU_EMAIL, BJTU_NUMBER, PHONE, TOTAL_VOLUME, 
    EXISTED_VOLUME, USER_TYPE, USER_STATE, USER_TIME_BUILD, COMMENT, BIRTHDAY
    from USER_TABLE
  </select>
</mapper>